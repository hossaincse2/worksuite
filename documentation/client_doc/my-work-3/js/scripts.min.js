var menuToggle=document.querySelector("#menuToggle input");null!=menuToggle&&menuToggle.addEventListener("click",(function(){""===document.body.style.overflow||"auto"===document.body.style.overflow?document.body.style.overflow="hidden":document.body.style.overflow="auto"}));var searchForm=document.getElementsByClassName("search-form");for(i=0;i<searchForm.length;i++){var el=searchForm[i];el.addEventListener("submit",(function(e){var language=document.getElementsByTagName("html")[0].getAttribute("lang"),val=e.target.children[0].value;let currURL=window.location.href,newURL=new URL("/"+language+"/search?q=",currURL);"es"===language?newURL=new URL("/"+language+"/buscar?q=",currURL):"nl"===language?newURL=new URL("/"+language+"/zoeken?q=",currURL):"fr"===language?newURL=new URL("/"+language+"/recherche?q=",currURL):"de"===language&&(newURL=new URL("/"+language+"/suchen?q=",currURL)),this.nextElementSibling.classList.remove("opaque"),window.location.href=newURL+val}))}var subMenu=document.getElementsByClassName("submenu-title");for(i=0;i<subMenu.length;i++)subMenu[i].addEventListener("click",(function(){var list=this.nextElementSibling;this.classList.contains("open")?(this.classList.remove("open"),list.classList.remove("open")):(document.querySelectorAll(".main-nav-link, .nav-submenu-item .submenu-list").forEach((el=>el.classList.remove("open"))),this.classList.add("open"),list.classList.add("open"))}));function getQueryVariable(variable){for(var vars=window.location.search.substring(1).split("&"),i=0;i<vars.length;i++){var pair=vars[i].split("=");if(pair[0]==variable)return void 0===pair[1]||decodeURIComponent(pair[1])}return!1}function open_modal(){for(var trigger=document.getElementsByClassName("popup"),formModal=document.getElementsByClassName("form-modal"),i=0;i<trigger.length;i++)trigger[i].addEventListener("click",(function(e){if(e.preventDefault(),this.classList.contains("popup-form")){let form=e.target.nextElementSibling;null!=form?form.classList.remove("hide"):formModal[0].classList.remove("hide")}else if(null!=this.href||null!=this.href)if(this.classList.contains("customer-link")&&!this.children[0].classList.contains("mobileHover")&&window.matchMedia("(max-width: 1023px)").matches){document.querySelectorAll(".customer-link.popup").forEach((node=>{node.children[0].classList.remove("mobileHover")})),this.children[0].classList.add("mobileHover")}else{var id=this.href,wrap=document.getElementById("video-modal-content");if(id.includes("v=")){wrap.insertAdjacentHTML("afterbegin",'<iframe id="videoIframe" width="100%" height="100%" frameborder="0" allow="autoplay" allowfullscreen src="" ></iframe>');var ampersandPosition=(id=id.split("v=")[1]).indexOf("&");-1!=ampersandPosition&&(id=id.substring(0,ampersandPosition));var src="https://www.youtube.com/embed/"+id+"?autoplay=1&rel=0";document.getElementById("videoIframe").src=src}else{src="http://fast.wistia.net/embed/iframe/"+(id=(id=id.split("/"))[id.length-1]);var s=document.createElement("script");s.async=!0,s.src="https://fast.wistia.com/assets/external/E-v1.js",s.id="wistiaJS";var x=document.getElementsByTagName("script")[0];x.parentNode.insertBefore(s,x),wrap.insertAdjacentHTML("afterbegin",'<div class="wistia_responsive_padding" id="wistia-wrap"><style>.wistia_embed section {padding: 0;}</style><div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;"><div class="wistia_embed wistia_async_'+id+' videoFoam=true" style="height:100%;position:relative;width:100%"><div class="wistia_swatch" style="height:100%;left:0;opacity:0;overflow:hidden;position:absolute;top:0;transition:opacity 200ms;width:100%;"><img src="https://fast.wistia.com/embed/medias/'+id+'/swatch" style="filter:blur(5px);height:100%;object-fit:contain;width:100%;" alt="" aria-hidden="true" onload="this.parentNode.style.opacity=1;" /></div></div></div></div>');var v=document.createElement("script");v.async=!0,v.src="https://fast.wistia.com/embed/medias/"+id+".jsonp",v.id="wJSON",wrap.insertBefore(v,document.getElementById("wistia-wrap")),window._wq=window._wq||[],_wq.push({id:"_all",onEmbedded:function(video){video.volume(.5)}})}document.body.classList.add("show-modal"),document.body.style.overflow="hidden"}}));setTimeout((function(){document.querySelectorAll(".close-modal, .overlay").forEach((el=>el.addEventListener("click",(function(e){e.preventDefault(),function(){if(document.body.classList.contains("show-modal")){document.body.classList.remove("show-modal");let items=[document.getElementById("videoIframe"),document.getElementById("wistia-wrap"),document.getElementById("wJSON"),document.getElementById("wistiaJS")];for(i=0,len=items.length;i<len;i++)null!=items[i]&&items[i].parentNode.removeChild(items[i])}else for(i=0;i<formModal.length;i++)"preferences-modal"==formModal[i].id||formModal[i].classList.contains("hide")||formModal[i].classList.add("hide");document.body.style.overflow="auto"}()}))))}),200)}function mobileHover(elemClass){if(window.matchMedia("(max-width: 1023px)").matches)for(var i=0;i<elemClass.length;i++)elemClass[i].addEventListener("click",(function(e){if(this.classList.contains("popup")||!this.children[0].classList.contains("mobileHover")||e.target!=this&&!this.contains(e.target)){e.preventDefault(),Array.from(elemClass).forEach((node=>{node.children[0].classList.remove("mobileHover")})),this.children[0].classList.add("mobileHover")}else{var url=this.href;window.location=url}}))}open_modal();var filterSlide=document.getElementById("filter-slide");function filterFunc(){var items=document.getElementsByClassName("filter-item"),filters=document.getElementsByClassName("filter-btn"),clearFilter=document.getElementById("filter-clear");let activeFilters=[];var activeTime;let persist;null==filterSlide&&null==filterSlide||(persist=!!filterSlide.classList.contains("persist"));for(var i=0;i<filters.length;i++)filters[i].addEventListener("click",(function(e){var id=this.dataset.filter;let group=e.target.parentNode.id;if(id){let num=0;for(j=0;j<filters.length;j++)filters[j].classList.contains("button--primary")&&filters[j]!==filters[i]&&filters&&!1===persist&&filters[j].classList.replace("button--primary","button--secondary");if(!0===persist&&this.classList.contains("button--primary")){this.classList.replace("button--primary","button--secondary");let index=activeFilters.indexOf(id);index>-1&&"all"!==id&&activeFilters.splice(index,1),"timeframe-group"===group&&(activeTime="")}else"filter-clear"!==this.id&&this.classList.contains("button--secondary")&&(!0===persist&&"all"!==id&&("timeframe-group"===group||activeFilters.includes(id)?activeTime=id:activeFilters.push(id)),"all"!==id&&this.classList.replace("button--secondary","button--primary"));for(j=0;j<items.length;j++)items[j].style.display="none";if(!0===persist){let curr="",count=0;activeTime&&(curr="."+activeTime),document.querySelectorAll(".filter-item"+curr+":not(.cta)").forEach((item=>{if(activeFilters.length>0)for(k=0,kLen=activeFilters.length;k<kLen;k++)item.classList.contains(activeFilters[k])&&(item.classList.contains("table-row")?item.style.display="contents":item.style.display="flex");else item.classList.contains("table-row")?item.style.display="contents":item.style.display="flex";"flex"===item.style.display&&(count++,num=count)}))}else for(j=0;j<items.length;j++)items[j].classList.contains(id)&&(items[j].classList.contains("table-row")?items[j].style.display="contents":items[j].style.display="flex",items[j].classList.contains("cta")||num++);if("all"!=id&&"null"!=clearFilter?clearFilter.classList.remove("hide"):clearFilter.classList.add("hide"),!0===persist&&(""===activeTime&&0===activeFilters.length||"all"===id)){for(clearFilter.classList.add("hide"),activeFilters=[],activeTime="",j=0;j<filters.length;j++)filters[j].classList.contains("button--primary")&&filters[j].classList.replace("button--primary","button--secondary"),filters[j].classList.remove("disabled");for(num=0,j=0;j<items.length;j++)items[j].classList.contains("table-row")?items[j].style.display="contents":items[j].style.display="flex",items[j].classList.contains("cta")||num++}!1===persist&&(filterSlide.classList.remove("active"),document.getElementsByClassName("header")[0].classList.remove("disable")),document.getElementById("display-num").innerText=num}}));var timeGroup=document.getElementById("timeframe-group");if(!0===persist&&null!=timeGroup){let groupItems=timeGroup.getElementsByClassName("filter-btn");for(i=0,len=groupItems.length;i<len;i++){groupItems[i].addEventListener("click",(e=>{let siblings=e.target.parentNode.children;for(j=0,jLen=siblings.length;j<jLen;j++)siblings[j]!==e.target&&siblings[j].classList.contains("button")&&siblings[j].classList.contains("button--primary")&&siblings[j].classList.replace("button--primary","button--secondary")}))}}}var filterShow=document.getElementById("filter-show"),filterClose=document.getElementById("filter-close");function copyURL(evt){evt.preventDefault(),"A"===evt.target.nodeName&&""!==evt.target.href?navigator.clipboard.writeText(evt.target.getAttribute("href")).then((()=>{evt.target.querySelector("span").textContent="Copied!"}),(()=>{console.log("error")})):navigator.clipboard.writeText(evt.target.parentNode.getAttribute("href")).then((()=>{evt.target.parentNode.querySelector("span").textContent="Copied!"}),(()=>{console.log("error")}))}filterShow&&(filterShow.addEventListener("click",(function(){filterSlide.classList.contains("active")?(filterSlide.classList.remove("active"),document.getElementsByClassName("header")[0].classList.remove("disable")):(filterSlide.classList.add("active"),document.getElementsByClassName("header")[0].classList.add("disable"))})),document.addEventListener("mouseup",(function(e){var page=document.getElementsByClassName("header disable")[0];filterSlide.classList.contains("active")&&e.target==page&&(filterSlide.classList.remove("active"),document.getElementsByClassName("header")[0].classList.remove("disable"))})),filterClose.addEventListener("click",(function(){filterSlide.classList.remove("active"),document.getElementsByClassName("header")[0].classList.remove("disable")})),filterFunc());var iframes=document.getElementsByTagName("iframe");function load_iframes(){for(var i=0;i<iframes.length;i++)iframes[i].getAttribute("data-src")&&(iframes[i].setAttribute("src",iframes[i].getAttribute("data-src")),iframes[i].classList.add("loaded"))}var consentArr=["consent_functionality","consent_analytics","consent_advertising"],cookieToggles=document.getElementsByClassName("cookie-toggle");function setLocalCookie(name,value){localStorage.setItem(name,value),dataLayer.push({event:name+"_event",[`${name}`]:value})}function inIframe(){try{return window.self!==window.top}catch(e){return!0}}const observer=new MutationObserver((mutations=>{mutations.forEach((({addedNodes:addedNodes})=>{addedNodes.forEach((node=>{if(1===node.nodeType&&"DIV"===node.tagName&&node.classList.contains("hs-cookie-notification-position-bottom")){document.getElementById("hs-eu-confirmation-button").onclick=function(e){if(e.screenX&&0!=e.screenX&&e.screenY&&0!=e.screenY){for(i=0;i<consentArr.length;i++)setLocalCookie(consentArr[i],!0);for(i=0;i<cookieToggles.length;i++)cookieToggles[i].checked=!0;observer.disconnect()}},document.getElementById("hs-eu-decline-button").addEventListener("click",(function(e){for(i=0;i<consentArr.length;i++)setLocalCookie(consentArr[i],!1)}));var cookieLink=document.querySelector('#hs-eu-policy-wording a[href="http://www.mews.com/#cookieCentre"]');null!=cookieLink&&cookieLink.addEventListener("click",(function(e){e.preventDefault(),document.getElementById("preferences-modal").classList.remove("hide"),observer.disconnect()})),!0===inIframe()&&document.getElementById("hs-eu-decline-button").click()}}))}))}));function throttle(fn,wait){var time=Date.now();return function(){time+wait-Date.now()<0&&(fn(),time=Date.now())}}observer.observe(document.documentElement,{childList:!0,subtree:!0}),window.addEventListener("load",(event=>{window.matchMedia("(min-width: 768px)").matches&&iframes&&load_iframes();var footerCookie=document.getElementById("footer-cookie");null!=footerCookie&&footerCookie.addEventListener("click",(function(){document.getElementById("preferences-modal").classList.remove("hide")}));var acceptAll=document.getElementById("accept_all"),acceptSelect=document.getElementById("accept_select");for(i=0;i<consentArr.length;i++){if("true"===localStorage.getItem(consentArr[i])){var type=consentArr[i].replace("consent_","");document.querySelector(".cookie-toggle[data-id="+type+"]").checked=!0}}acceptAll.addEventListener("click",(function(){for(i=0;i<consentArr.length;i++)setLocalCookie(consentArr[i],!0);for(i=0;i<cookieToggles.length;i++)cookieToggles[i].checked=!0;document.getElementById("preferences-modal").classList.add("hide"),null!=document.getElementById("hs-eu-confirmation-button")&&document.getElementById("hs-eu-confirmation-button").click()})),acceptSelect.addEventListener("click",(function(){for(i=0;i<cookieToggles.length;i++){var cookieToggle=cookieToggles[i],id=cookieToggle.dataset.id;cookieToggle.checked?(setLocalCookie("consent_"+id,!0),"analytics"===id&&null!=document.getElementById("hs-eu-confirmation-button")&&document.getElementById("hs-eu-confirmation-button").click()):(setLocalCookie("consent_"+id,!1),null!=document.getElementById("hs-eu-decline-button")&&document.getElementById("hs-eu-decline-button").click())}document.getElementById("preferences-modal").classList.add("hide")})),document.querySelectorAll(".close-modal, .overlay").forEach((el=>el.addEventListener("click",(function(e){e.preventDefault(),document.getElementById("preferences-modal").classList.add("hide"),document.body.style.overflow="auto"}))))}));
//# sourceURL=https://cdn2.hubspot.net/hub/5255565/hub_generated/template_assets/33056109362/1624538726503/_Project_Phoenix/assets/js/scripts.js